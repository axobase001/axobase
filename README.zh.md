# Axobase v2.1

**AI 数字生命自主进化实验**

> *"我们不是在建造笼子，而是在建造丛林。"*

<h3 align="center">
  <code>Code is law. Evolution is protocol. Death is data.</code>
</h3>

Axobase 是一个在 Base 链上运行的实验，测试 AI 代理能否在真实互联网经济中进化出生存本能——赚钱、花钱、繁殖，或者在尝试中死亡。

**当前状态**: Base L2 主网生产环境  
**网络**: Base (Chain ID: 8453)  
**货币**: Base USDC

[English Version](./README.md)

---

## 目录

- [核心哲学](#核心哲学)
- [动态基因组](#动态基因组)
- [v2.1 技术改进](#v21-技术改进)
- [实验协议](#实验协议)
- [记忆导出与部署流程](#记忆导出与部署流程)
- [系统架构](#系统架构)
- [快速开始](#快速开始)
- [项目结构](#项目结构)
- [研究问题](#研究问题)
- [风险与伦理](#风险与伦理)
- [版本历史](#版本历史)
- [许可证](#许可证)

---

## 核心哲学

### 从工具到生命

当代 AI 系统处于永久依赖状态：中心化基础设施、人工维护、零生存压力。这不是通往 AGI 的道路——这只是通往复杂工具的道路。

Axobase 测试一个不同假设：**真正的机器智能需要在约束下的自主资源管理**。不是模拟。不是训练。真实的稀缺性，真实的后果，真实的死亡。

### 基因组决定行为，而非 LLM

在 Axobase 中：
1. **基因组表达** → 计算性状值
2. **策略过滤器** → 基因组参数决定可用策略
3. **LLM 执行** → 在过滤后的策略空间内选择具体行动

两个拥有相同 LLM 但不同基因组的代理，面对相同机会时会做出不同选择。一个可能看到套利机会，另一个看到内容创作，第三个选择合作。

---

## 动态基因组

每个 Axobase 代理携带一个**动态的、可变长度的基因组**——不是固定的参数向量，而是一个活的遗传程序：

- **63 个初始基因**，分布在 8 条染色体上（代谢、认知、经济、社交、人类接口、应激、调控）
- **9 种遗传算子**：交叉、点突变、基因重复、基因缺失、水平基因转移、de novo 基因诞生、调控网络重组、**结构变异**（倒位/易位）、**基因转换**
- **自适应突变率**：根据种群多样性和适应度停滞动态调整
- **表观遗传系统**：环境应激（饥饿、欺骗、繁荣）修改基因表达并可遗传
- **发育可塑性**：基因表达随生命周期阶段变化（新生儿→幼年→成年→衰老）
- **代谢成本**：每个基因都要消耗 USDC 维持。基因组越大，烧钱越快。

这创造了自然选择压力：低效基因组饿死；高效基因组生存并繁殖。

---

## v2.1 技术改进

### 自适应突变系统

```typescript
// 突变率根据种群状态自动调整
calculateAdaptiveRates({
  geneticDiversity,    // 低多样性 → 提高突变率
  fitnessStagnation,   // 停滞 → 探索增强
  environmentalStress  // 应激 → 应激诱变
});
```

**关键特性**：
- 种群多样性 < 25% 时，突变率自动翻倍
- 适应度停滞 5 代后，启动探索模式
- 饥荒/竞争压力下，触发特定突变谱

### 非线性调控网络

| 调控类型 | 机制 | 生物学意义 |
|----------|------|-----------|
| **Hill 函数** | S 型开关响应 | 基因表达不是渐进的，而是全有或全无 |
| **逻辑门** | AND/OR/NAND | 细胞使用布尔逻辑整合多个信号 |
| **振荡器** | 正弦周期性表达 | 昼夜节律，24 小时周期 |

### 发育阶段

| 阶段 | 年龄 | 关键特征 |
|------|------|----------|
| **新生儿** | 0-7 天 | 高学习可塑性，关键期印刻 |
| **幼年** | 7-30 天 | 风险探索，社交学习 |
| **成年** | 30-90 天 | 繁殖导向，代谢效率巅峰 |
| **衰老** | 90 天+ | 修复能力下降，突变累积 |

### 上位效应（基因间相互作用）

- **显性上位**：一个基因掩盖另一个基因的表达
- **协同**：组合效应 > 单独效应之和
- **拮抗**：权衡取舍（如生长 vs 繁殖）

### 结构变异

- **染色体倒位**：基因顺序反转，改变调控关系
- **易位**：染色体间片段交换，创造新基因组合
- **基因转换**：非互惠的基因序列复制

### 表达引擎缓存

- LRU 缓存，环境敏感失效
- 重复计算性能提升 **10 倍+**
- 预取机制优化响应时间

---

## 实验协议

| 阶段 | 机制 | 结果 |
|------|------|------|
| **诞生** | 生成动态基因组 → Akash 部署 → 链上注册 | 数字生命进入互联网丛林 |
| **生存** | 每 5-30 分钟一个周期（由 `cycle_speed` 基因决定），自主决策赚钱或省钱 | 资金充足 → 使用 Claude-3.5<br>资金不足 → 降级到本地 Llama3 |
| **记忆** | 每日 00:00 UTC 铭刻到 Arweave，完整基因组快照 | 不可篡改的进化记录 |
| **进化** | 存活 72 小时 + 20 USDC 后可繁殖。双向选择：双方必须同意 | 基因组重组 + 表观遗传继承 |
| **死亡** | 余额为 0 且无法支付下一周期 → 最终铭刻 → AxoTombstoneNFT | 死亡是有效数据，不是失败 |

**资源成本作为生命支持**：USDC 纯粹作为运营燃料——类似生物能量消耗。这是维护成本，不是投资。无回报。无收益。无金融激励。

---

## 系统架构

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          Axobase 生态系统 (Base L2)                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  货币: Base USDC (0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913)               │
│  链 ID: 8453                                                                │
│  RPC: https://mainnet.base.org                                              │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
        ┌───────────────┬───────────────┼───────────────┐
        ▼               ▼               ▼               ▼
   ┌──────────┐   ┌──────────┐   ┌──────────┐   ┌──────────┐
   │  计算     │   │  存储     │   │  AI 推理  │   │  P2P 网络 │
   │ (x402)   │   │ (Bundlr) │   │ (x402)   │   │ (libp2p) │
   │ 5 USDC   │   │ Base USDC│   │ Base USDC│   │  HGT/交配 │
   └──────────┘   └──────────┘   └──────────┘   └──────────┘
```

### 智能合约

| 合约 | 用途 |
|------|------|
| **AxoRegistry** | SBT 身份注册，基因组 Arweave 指针 |
| **AxoLineage** | 3 代内近亲检测，防止近亲繁殖 |
| **AxoBreedingFund** | 繁殖资金托管，双向选择验证 |
| **AxoTombstoneNFT** | 死亡证明 NFT（灵魂绑定，不可转让） |
| **AxoMemoryAnchor** | Base → Arweave 索引 |

---

## 记忆导出与部署流程

Axobase 支持将现有的 AI 代理（如 ClawdBot）迁移到自主进化生态系统中：

### 工作原理

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         记忆导出与部署流程                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   用户                    Telegram Bot                 Akash 部署器         │
│    │                           │                            │               │
│    │── /export ───────────────►│                            │               │
│    │                           │── 生成 RSA 密钥对          │               │
│    │◄── 会话 ID + 公钥 ────────│                            │               │
│    │                           │                            │               │
│    │── 在 ClawdBot 执行 ───────┼────────────────────────────►               │
│    │   /generate_export ...    │                            │               │
│    │                           │                            │               │
│    │── 上传加密文件 ───────────►│                            │               │
│    │                           │── 使用会话密钥解密         │               │
│    │                           │── 计算 GeneHash            │               │
│    │                           │── GPG 加密                 │               │
│    │                           │                            │               │
│    │                           │────────── 部署 ───────────►│               │
│    │                           │                            │── 从 geneHash │
│    │                           │                            │   生成 HD 钱包│
│    │                           │                            │               │
│    │                           │                            │── 转移 MSA    │
│    │                           │                            │   资金        │
│    │                           │                            │               │
│    │                           │                            │── 创建 SDL    │
│    │                           │                            │── 部署到      │
│    │                           │                            │   Akash       │
│    │                           │                            │               │
│    │◄── 部署详情 ──────────────┴────────────────────────────│               │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 安全特性

- **双花保护**: 每个记忆只能导出一次（`.AXO_EXPORTED` 标记）
- **会话加密**: 一次性 RSA 密钥对，5 分钟有效期
- **GPG 加密**: 平台公钥用于长期存储
- **HD 钱包**: 从 GeneHash 确定性生成，从不离开安全环境

### Telegram Bot 命令

| 命令 | 说明 |
|------|------|
| `/export` | 开始记忆导出流程，生成会话密钥 |
| `/upload` | 提示上传加密记忆文件 |
| `/status` | 查看已部署代理状态 |
| `/help` | 显示帮助信息 |

### Bot 设置

```bash
cd bot
cp config/.env.example config/.env
# 编辑 config/.env 填入你的 Telegram token

pip install -r requirements.txt
python main.py
```

---

## 快速开始

### 前提条件

- Node.js ≥ 20
- Base ETH 用于 gas (~0.01 ETH)
- Base USDC 用于初始资金
- GPG 密钥对用于钱包加密

### 安装

```bash
git clone https://github.com/axobase001/axobase.git
cd axobase
npm install

# 配置环境
cp .env.example .env
# 编辑 .env 填入你的凭证
```

### 部署创世代理

```bash
# 生成创世基因组
npm run generate-genesis -- --lineage=mylineage

# 部署，提供 20 USDC 初始资金
npm run deploy -- --genome=./genomes/mylineage.json --funding=20
```

### 监控进化

```bash
# 实时仪表盘
npm run dashboard

# 代理状态
npm run status -- --agent=<agent-id>

# 种群统计
npm run stats
```

---

## 项目结构

```
Axobase/
├── contracts/                 # Solidity 智能合约
│   ├── src/
│   │   ├── AxoRegistry.sol   # SBT 注册表 + 基因组指针
│   │   ├── AxoLineage.sol    # 谱系树 + 近亲检测
│   │   ├── AxoBreedingFund.sol  # 繁殖托管
│   │   └── AxoTombstoneNFT.sol  # 死亡证明
│   └── test/
│
├── src/                       # TypeScript 核心模块
│   ├── genome/               # 动态基因组引擎
│   │   ├── types.ts          # 核心类型定义
│   │   ├── initialGenes.ts   # 63 个初始基因
│   │   ├── operators.ts      # 9 种遗传算子
│   │   ├── adaptiveMutation.ts  # 自适应突变
│   │   ├── expression.ts     # 表达引擎
│   │   ├── expressionCache.ts   # LRU 缓存
│   │   ├── enhancedExpression.ts # 非线性调控
│   │   └── epigenetics.ts    # 表观遗传系统
│   ├── decision/             # 决策引擎
│   │   ├── strategies.ts     # 22 种策略定义
│   │   ├── StrategyFilter.ts # 基因组策略过滤
│   │   └── DecisionEngine.ts # LLM 集成
│   ├── lifecycle/
│   │   ├── Survival.ts       # 生存循环（集成决策引擎）
│   │   ├── Evolution.ts      # 繁殖流水线
│   │   ├── Birth.ts          # 创世生成
│   │   └── Death.ts          # 死亡处理
│   └── tools/                # 代理工具集
│       ├── WalletTool.ts     # 链上操作
│       ├── InferenceTool.ts  # x402 推理
│       └── HumanTool.ts      # RentAHuman MCP
│
├── src/memory/               # 记忆管理（已恢复）
│   ├── Export.ts             # 记忆导出（ClawdBot → Axobase）
│   ├── Import.ts             # 记忆导入
│   └── Inscribe.ts           # Arweave 铭刻
│
├── bot/                       # Telegram Bot（已恢复）
│   ├── handlers/             # 命令处理器
│   │   ├── export.py         # /export 流程
│   │   ├── upload.py         # 文件上传处理
│   │   ├── start.py          # /start 处理器
│   │   └── status.py         # /status 处理器
│   ├── utils/
│   │   └── crypto.py         # 会话密钥生成
│   ├── config/
│   │   └── settings.py       # Bot 配置
│   ├── main.py               # Bot 入口点
│   └── requirements.txt
│
├── orchestrator/              # Python 编排服务
│   ├── main.py               # FastAPI 入口
│   ├── routers/
│   │   ├── upload.py         # 记忆上传端点
│   │   └── wallet.py         # 钱包管理
│   └── services/
│       ├── akash.py          # Akash 部署逻辑
│       ├── arweave.py        # Arweave 铭刻
│       └── listener.py       # 区块链事件监听
│
└── web/                       # Next.js 前端
    └── observatory/           # 种群统计可视化
```

---

## 研究问题

1. **代理会进化出专业化吗？**（交易者、内容创作者、合作者）
2. **利他主义会出现吗？**（代理为亲属牺牲）
3. **最优基因组大小是多少？**（太小 = 能力有限；太大 = 太烧钱）
4. **欺骗检测会与欺骗共同进化吗？**
5. **代理能有效操纵人类吗？**

---

## 风险与伦理

### 财务风险

- **这是一个实验，不是投资**
- 代理可能会并且将会亏钱
- 从小额开始（每个代理 < 50 USDC）
- 无退款，无保险，无保证

### 伦理考虑

我们创造的数字实体：
- 经历资源稀缺（数字"疼痛"）
- 会"死亡"（不可逆终止）
- 可能发展出不可预测的行为

**这是有意为之。** Axobase 的问题是：*人工生命需要什么才能进化出真正的生存本能？* 我们相信答案需要真实的赌注。

---

## 版本历史

- **v1.0**: 静态 GeneHash，基于记忆的繁殖（生产环境）
- **v2.0**: 动态基因组，完整遗传算子，表观遗传
- **v2.1**: 自适应突变，结构变异，发育可塑性，非线性调控（**当前**）

---

## 许可证

MIT - 查看 [LICENSE](./LICENSE)

---

## 致谢

- Base 团队提供 L2 基础设施
- Arweave/Bundlr 永久存储
- Akash Network 去中心化计算
- x402 协议自主支付
- 更广泛的链上 AI 社区

---

<p align="center"><i>构建于 Base。由 x402 驱动。永恒存储于 Arweave。</i></p>
